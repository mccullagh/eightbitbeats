/*====================================================
Font Declarations
====================================================*/

@font-face {
	font-family: Seven;
	src: url('../fonts/seven.ttf');
}

@font-face {
	font-family: Seven-bold;
	src: url('../fonts/seven_bold.ttf');
}


/*====================================================
General
====================================================*/

body {
    .pixelfont; color: #efefef;
    background: #000 url(../images/background.png) 0 0 repeat;
}

a:link, a:visited, a:hover, a:active { color: #efefef; }

.container { width: 1300px; position: relative; }

.logo { display: block; margin-bottom: 24px; }


/*====================================================
Elements
====================================================*/

@darkborder: 1px solid #111;

.pixelfont { font-family: Seven, Courier, sans-serif; font-size: 8px; }
.pixelfontlarge { font-family: Seven, Courier, sans-serif; font-size: 16px; }

.notesize { width: 10px; height: 10px; }

.panel {
    border: @darkborder;
    padding: 12px 0;
    background: rgba(255,255,255,.02);
            border-radius: 2px;
       -moz-border-radius: 2px;
    -webkit-border-radius: 2px;
}

.panel-dark {
    .panel; background: rgba(0,0,0,.9) !important;
}

.button {
            border-radius: 3px;
       -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    display: block; height: 32px; line-height: 32px; text-decoration: none;
    position: relative; border: @darkborder; padding: 0 10px;
    background: -webkit-gradient(linear, left top, left bottom, from( rgba(255,255,255,.05) ), to( rgba(255,255,255,.02) ));
    background: -moz-linear-gradient(top, rgba(255,255,255,.05), rgba(255,255,255,.02));
    cursor: pointer; text-decoration: none;
}

.button-pressed {
    background: -webkit-gradient(linear, left top, left bottom, from( rgba(0,0,0,.1) ), to( rgba(0,0,0,.05) ));
    background: -moz-linear-gradient(top, rgba(0,0,0,.1), rgba(0,0,0,.05));
}


/*====================================================
Modal and Error
====================================================*/

.modal-screen {
    width: 100%; height: 100%;
    position: fixed; top: 0; left: 0; z-index: 99;
    background: rgba(0,0,0,.1);

    .login {
        .panel; border: 8px solid rgba(0,0,0,.6); padding: 24px;
        width: 308px; margin: 200px auto; overflow: hidden;

        p {
            .pixelfontlarge; margin-bottom: 18px;
        }

        a {
            .button; float: left;

            div {
                float: left; width: 16px; height: 32px; padding-right: 8px; margin-right: 8px; border-right: 1px solid #111;
            }

            &.facebook {
                margin-right: 12px;
            }

            &.facebook div {
                background: transparent url(../images/auth-icon-facebook.png) 0 8px no-repeat;
            }

            &.twitter div {
                background: transparent url(../images/auth-icon-twitter.png) 0 8px no-repeat;
            }
        }
    }
}

.error {
    position: fixed; bottom: 0; left: 0; padding: 4px 12px; height: 24px; display: none;
    color: rgba(235,0,0,.9); background: rgba(0,0,0,.2);
}


/*====================================================
Chat
====================================================*/

.chat-drawer {
    position: fixed; top: -226px; margin-left: 680px; display: none;

    .pane {
        .panel-dark; background: rgba(0,0,0,.4); border: 1px solid #000; padding: 12px;
        width: 400px; height: 200px;
    }

    .tab {
        position: absolute; left: 0; bottom:-30px;
        .panel; background: rgba(0,0,0,.4); border: 1px solid #000;
        border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0;
        width: 90px; margin: 0 auto; padding: 4px 0;

        .tab-inner {
            width: 60px; padding-left: 32px; margin: 0 auto;
            background: transparent url(../images/chat.png) 12px 50% no-repeat;
        }
    }
}


/*====================================================
About
====================================================*/

.about-drawer {
    position: absolute; top: -390px; right: 0;

    .pane {
        .panel-dark; background: rgba(0,0,0,.4); border: 1px solid #000; padding: 12px;
        width: 240px; height: 366px;

        .creator {
            width: 100%; overflow: hidden; margin-bottom: 12px;

            span {
                font-family: Seven-bold;
            }

            img {
                float: left; margin-right: 12px;
            }
        }
    }

    .tab {
        position: absolute; right: 0; bottom:-30px;
        .panel; background: rgba(0,0,0,1.0); border: 1px solid #000;
        border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0;
        width: 80px; margin: 0 auto; padding: 4px 0;

        .tab-inner {
            width: 60px; margin: 0 auto; padding-left: 14px; cursor: pointer;
        }
    }
}


/*====================================================
Header
====================================================*/

.header {
    width: 100%; overflow: hidden; margin-bottom: 12px;

    .controls {

        .panel; float: left; padding: 12px; margin-right: 12px; position: relative;

        .set-start {
            margin-left: 48px;
        }

        a:last-child {
            margin-right: 0;
        }

        .create-track, .save, .invite {
            .button; float: left; margin-right: 12px;
        }

        .transport {
            .button; float: left; padding: 8px 12px; height: 16px; width: 16px; margin-right: 12px;

            div {
                width: 16px; height: 16px;
                background: transparent url(../images/transport.png) 50% 0 no-repeat;
            }

            div.pause {
                background: transparent url(../images/transport.png) 50% -16px no-repeat;
            }
        }

        .bpm {
            float: left; overflow: hidden;

            .readout {
                float: left; font-size: 10px; color: rgba(253,154,0,1.0);
                .button; box-shadow: 2px 2px 4px inset rgba(0,0,0,.8);
                height: 16px; line-height: 16px; padding: 8px 12px;
                background: -webkit-gradient(linear, left top, left bottom, from( rgba(0,0,0,.1) ), to( rgba(0,0,0,.2) ));
                background: -moz-linear-gradient(top, rgba(0,0,0,.1), rgba(0,0,0,.2));
            }

            .dial {

                float: left; width: 15px; margin-left: 6px;
                cursor:pointer; 
                div {
                    width: 15px; height: 10px; margin-top: 5px;
                }

                .up {
                    margin-bottom: 7px;
                    background: transparent url(../images/bpmdials.png) 50% 0 no-repeat;
                }

                .down {
                    background: transparent url(../images/bpmdials.png) 50% -18px no-repeat;
                }
            }
        }
    }
}

.runner {
    width: 768px; height: 24px; margin: 0 0 4px 324px; position: relative;

    div {
        width: 24px; height: 24px; position: absolute; top: 0; left: 0;
    }

    div.start {    background: transparent url(../images/man-start.png) 0 -24px  no-repeat; }
    div.start.on { background: transparent url(../images/man-start.png) 0 0      no-repeat; }
    div.run0 {     opacity: .6; background: transparent url(../images/man-run1.png)  0 -24px  no-repeat; }
    div.run0.on {  opacity: 1; background: transparent url(../images/man-run1.png)  0 0      no-repeat; }
    div.run1 {     opacity: .2; background: transparent url(../images/man-run2.png)  0 -24px  no-repeat; }
    div.run1.on {  opacity: 1; background: transparent url(../images/man-run2.png)  0 0      no-repeat; }
}


/*====================================================
Sequencer
====================================================*/

.track {
    .panel;
    position: relative; 
    margin-bottom: 12px;

    &.editable {
        background: rgba(255,255,255,.04);
        .meta .chat-help { display: block; }
    }

    .meta {
        float: left; width: 316px;

        .user {

            position: relative; float: left; margin-left: 12px; width: 64px; height: 64px; border: @darkborder;

            .username {
                width: 56px; padding: 4px; height: 12px; line-height: 12px;
                overflow: hidden; text-overflow: ellipsis; text-align: center; white-space: nowrap;
                position: absolute; left: 0; bottom: 0; background: rgba(0,0,0,.4);
            }

            .leave {
                width: 8px; height: 8px; padding: 2px; color: #333; text-align: center; line-height: 6px;
                border-top-right-radius: 0; border-bottom-right-radius: 0;
                position: absolute; margin-left: -12px; margin-top: -14px;
                cursor: pointer;
            }

            .chat-box { /* affects both input and output boxes */
                .pixelfont; display: block; background: #fff; color: black; line-height: normal;
                position: absolute; left: 100px; top: 0; z-index: 100; height: 80px; width: 150px; max-width: none;
            }

            div.chat-box { /* output box only */
                padding: 5px 10px;
            }
        }

        .instrument-select {
            float: left; width: 180px; margin-left: 12px;
        }

        .instrument-select div.inst {
            .button; float: left; margin: 0 6px 6px 0; width: 16px;

            div.light {
                width: 3px; height: 8px; margin: 0 auto; background: rgba(0,0,0,1.0);
            }
        }

        .instrument-select div.inst.active {
            .button-pressed;
            
            div.light {
                background: rgba(109,223,110,1.0); 
            }
        }

        .note-labels {
            float: left; width: 44px; text-align: right; border-left: @darkborder;

            div {
                height: 12px; margin-bottom: 3px; line-height: 8px; color: rgba(255,255,255,.2);
            }
        }

        .chat-help { display: none; margin-left: 15px; }
    }


    .steps {
        float: left; padding-left: 12px;

        .step {
            float: left;
            margin-right: 3px;

            &.active .note {
                border-color: rgba(255,255,255,.25); box-shadow: 0 0 3px rgba(255,255,255,.2);
            }
            &.active .note.on:after {
                background: rgba(253,154,0,1.0) !important;
            }
        }

        .note {
            position: relative;
            background: rgba(0,0,0,.8) url(../images/note-bg.png) 0 0 no-repeat;
            width: 10px; height: 10px; margin-bottom: 3px;
            border: @darkborder;
            cursor: pointer;

            &.on:after {
                /* box-shadow: 0 0 7px rgba(31,183,255,1.0) inset; */ /* blue */
                /* box-shadow: 0 0 7px rgba(109,223,110,1.0) inset; */ /* green */
                box-shadow: 0 0 7px rgba(253,154,0,1.0) inset; /* orange */
                /* box-shadow: 0 0 7px rgba(202,219,1,1.0) inset; */ /* yellow */
                background: rgba(255,255,255,.9) !important; /* white bg */
            }

            &:after {
                content: '';
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                width: 10px; height: 10px;
            }
        }

        .step:nth-child(4n+1) .note:after {
            background: rgba(255,255,255,.07);
        }

        .step:nth-child(16n+1) .note:after {
            background: rgba(255,255,255,.11);
        }
    }
}
